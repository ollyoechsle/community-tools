<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <style type="text/css">
        html {
            height: 100%
        }

        body {
            height: 100%;
            margin: 0;
            padding: 0
        }

        #map_canvas {
            height: 100%
        }
    </style>
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBiMWZs5-F5BiIGqZsPH-L7HgvPZZ6qwTo&sensor=false">
    </script>
    <script type="text/javascript">
        function initialize() {

            var stops = [
                {
                    "AtcoCode":"2900Y011",
                    "NaptanCode":"nfogjmpt",
                    "CommonName":"Bus Shelter",
                    "Landmark":"The Rosary",
                    "Street":"Norwich Road",
                    "Indicator":"adj",
                    "Bearing":"W",
                    "LocalityName":"Yaxham",
                    "Longitude":0.96479,
                    "Latitude":52.6557
                },
                {
                    "AtcoCode":"2900Y013",
                    "NaptanCode":"nfogjmpw",
                    "CommonName":"Well Hill",
                    "Landmark":"Well Hill",
                    "Street":"Norwich Road",
                    "Indicator":"opp",
                    "Bearing":"NE",
                    "LocalityName":"Clint Green",
                    "Longitude":0.98935,
                    "Latitude":52.65937
                },
                {
                    "AtcoCode":"2900Y014",
                    "NaptanCode":"nfogjmta",
                    "CommonName":"Bus Shelter",
                    "Landmark":"The Rosary",
                    "Street":"Norwich Road",
                    "Indicator":"opp",
                    "Bearing":"E",
                    "LocalityName":"Yaxham",
                    "Longitude":0.96461,
                    "Latitude":52.65584
                },
                {
                    "AtcoCode":"2900Y015",
                    "NaptanCode":"nfogjmtd",
                    "CommonName":"Well Hill",
                    "Landmark":"Well Hill",
                    "Street":"Norwich Road",
                    "Indicator":"adj",
                    "Bearing":"SW",
                    "LocalityName":"Clint Green",
                    "Longitude":0.98847,
                    "Latitude":52.65877
                },
                {
                    "AtcoCode":"2900Y016",
                    "NaptanCode":"nfogjmtg",
                    "CommonName":"Elm Close",
                    "Landmark":"St. Peters Close",
                    "Street":"Norwich Road",
                    "Indicator":"opp",
                    "Bearing":"W",
                    "LocalityName":"Yaxham",
                    "Longitude":0.9689,
                    "Latitude":52.65518
                },
                {
                    "AtcoCode":"2900Y017",
                    "NaptanCode":"nfogjmtj",
                    "CommonName":"Elm Close",
                    "Landmark":"Elm Close",
                    "Street":"Norwich Road",
                    "Indicator":"adj",
                    "Bearing":"NW",
                    "LocalityName":"Yaxham",
                    "Longitude":0.96829,
                    "Latitude":52.65514
                },
                {
                    "AtcoCode":"2900Y018",
                    "NaptanCode":"nfogmtdw",
                    "CommonName":"Station Road",
                    "Landmark":"Station Road",
                    "Street":"Dereham Road",
                    "Indicator":"opp",
                    "Bearing":"SE",
                    "LocalityName":"Yaxham",
                    "Longitude":0.96239,
                    "Latitude":52.65583
                },
                {
                    "AtcoCode":"2900Y019",
                    "NaptanCode":"nfogpdjd",
                    "CommonName":"Station Road",
                    "Landmark":"",
                    "Street":"Dereham Road",
                    "Indicator":"adj",
                    "Bearing":"NW",
                    "LocalityName":"Yaxham",
                    "Longitude":0.96207,
                    "Latitude":52.65608
                }
            ];

            var mapOptions = {
                center:new google.maps.LatLng(stops[0].Latitude, stops[0].Longitude),
                zoom:16,
                mapTypeId:google.maps.MapTypeId.HYBRID
            };

            var map = new google.maps.Map(document.getElementById("map_canvas"),
                                          mapOptions);

            stops.forEach(function (stop) {
                var marker = new google.maps.Marker({
                                           position:new google.maps.LatLng(stop.Latitude,
                                                                           stop.Longitude),
                                           map:map,
                                           title:stop.CommonName
                                       });

                google.maps.event.addListener(marker, 'click', function() {
                    alert(stop.NaptanCode)
                });

            });

        }
    </script>
</head>
<body onload="initialize()">
<div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>