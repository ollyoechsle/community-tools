console.log("Welcome to Yaxham!"),window.yaxham=window.yaxham||{},window.yaxham.modules=window.yaxham.modules||{},function(){yaxham.modules.News=function(e){var t=new yaxham.modules.NewsModel,n=new yaxham.modules.NewsView(e,t),r=new yaxham.modules.NewsController(n,t);return r}}(),function(){function e(e,t){this.intervals=[],this.view=e,this.model=t}e.prototype.initialise=function(){this.load(),this.view.updateAll()},e.prototype.load=function(){var t={url:e.URL,dataType:"jsonp"},n=jQuery.ajax(t);n.then(this.handleLoad.bind(this))},e.prototype.handleLoad=function(e){this.model.setAllData(e),this.view.updateAll()},e.prototype.destroy=function(){this.intervals.forEach(function(e){window.clearInterval(e)}),this.view.destroy()},e.URL="http://community-tools.appspot.com/news",yaxham.modules.NewsController=e}(),function(){function e(){this.data=null}e.prototype.data=null,e.prototype.hasData=function(){return!!this.data},e.prototype.setAllData=function(e){this.data=e},e.prototype.getData=function(){var e="ddd HH:mm";return this.data.map(function(t){return{title:t.title,pubDate:t.pubDate,date:moment(t.pubDate).format(e),description:t.description,link:t.link}})},yaxham.modules.NewsModel=e}(),function(){function e(e,t){this.jElement=jQuery(e);if(this.jElement.length==0)throw new Error("Invalid selector: "+e);this.model=t}e.prototype=Object.create(Subscribable.prototype),e.prototype.jElement=null,e.prototype.updateAll=function(){this.model.hasData()?this.displayBoard():this.displayLoading()},e.prototype.displayLoading=function(){this.jElement.addClass("loading")},e.prototype.displayBoard=function(){this.jElement.html(Mustache.to_html(e.NEWS_LIST,{items:this.model.getData()}))},e.NEWS_LIST='<ul>{{#items}}<li class="{{className}}"><a target="_BLANK" href="{{link}}">{{title}}</a> <div>{{{description}}}</div><time datetime="{{pubDate}}">{{date}}</time></li>{{/items}}</ul>',yaxham.modules.NewsView=e}();